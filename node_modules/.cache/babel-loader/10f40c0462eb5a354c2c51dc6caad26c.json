{"ast":null,"code":"import _objectSpread from\"/home/f4ustx/cnpq/Portal_Geoeste/client/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import{GeoJSON,MapContainer,TileLayer,ZoomControl}from\"react-leaflet\";import{Section}from\"../Section/Section\";import{Legend}from\"../Legend/Legend\";import Reference from\"../References/Reference\";import Download from\"../Button/DownloadFile\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function style(feature){if(feature.properties.colors!=null){return{fillColor:feature.properties.colors,fillOpacity:1,color:\"black\",weight:.7};}else{return{fillColor:'#08a5ee',fillOpacity:0.3,color:\"black\",weight:1};}}var onEachFeature=function onEachFeature(atr,layer){var atr_n=atr.properties.atr;var atr_nome=atr.properties.nome+\": \"+String(atr.properties.atr);if(atr_n!=null){layer.on('mouseover',function e(){if(atr.properties.nome===undefined)layer.bindPopup(atr_n).openPopup();else layer.bindPopup(atr_nome).openPopup();});}};export var Graphic=function Graphic(props){if(props.edit===false){var _props$graphic,_props$graphic2,_props$graphic3,_props$graphic4;return/*#__PURE__*/_jsxs(MapContainer,{style:{height:\"100vh\"},zoom:8,center:[-24.8,-53.75],id:\"mapId\",attributionControl:false,zoomControl:false,children:[/*#__PURE__*/_jsx(TileLayer,{url:\"https://{s}.tile.openstreetmap.de/{z}/{x}/{y}.png\"}),/*#__PURE__*/_jsx(GeoJSON,{data:JSON.parse(props.data),style:style,onEachFeature:onEachFeature}),/*#__PURE__*/_jsx(Section,{id:(_props$graphic=props.graphic)===null||_props$graphic===void 0?void 0:_props$graphic.map_id}),/*#__PURE__*/_jsx(Legend,{info:(_props$graphic2=props.graphic)===null||_props$graphic2===void 0?void 0:_props$graphic2.map_legs,atr:(_props$graphic3=props.graphic)===null||_props$graphic3===void 0?void 0:_props$graphic3.map_value}),/*#__PURE__*/_jsx(Reference,{info:(_props$graphic4=props.graphic)===null||_props$graphic4===void 0?void 0:_props$graphic4.map_refs}),/*#__PURE__*/_jsx(ZoomControl,{position:\"bottomright\"}),/*#__PURE__*/_jsx(Download,_objectSpread({},props.downloadProps))]});}else{var _props$graphic5;return/*#__PURE__*/_jsxs(MapContainer,{style:{height:\"100vh\"},zoom:8,center:[-24.8,-53.75],id:\"mapId\",attributionControl:false,zoomControl:false,children:[/*#__PURE__*/_jsx(TileLayer,{url:\"https://{s}.tile.openstreetmap.de/{z}/{x}/{y}.png\"}),/*#__PURE__*/_jsx(GeoJSON,{data:JSON.parse(props.data),style:style,onEachFeature:onEachFeature}),/*#__PURE__*/_jsx(Section,{id:(_props$graphic5=props.graphic)===null||_props$graphic5===void 0?void 0:_props$graphic5.map_id}),/*#__PURE__*/_jsx(ZoomControl,{position:\"bottomright\"})]});}};","map":{"version":3,"names":["GeoJSON","MapContainer","TileLayer","ZoomControl","Section","Legend","Reference","Download","style","feature","properties","colors","fillColor","fillOpacity","color","weight","onEachFeature","atr","layer","atr_n","atr_nome","nome","String","on","e","undefined","bindPopup","openPopup","Graphic","props","edit","height","JSON","parse","data","graphic","map_id","map_legs","map_value","map_refs","downloadProps"],"sources":["/home/f4ustx/cnpq/Portal_Geoeste/client/src/components/Graphic/Graphic.tsx"],"sourcesContent":["import { GraphicProps } from \"../../interfaces\";\nimport { GeoJSON, MapContainer, TileLayer, ZoomControl } from \"react-leaflet\";\nimport { Section } from \"../Section/Section\";\nimport { Legend } from \"../Legend/Legend\";\nimport Reference from \"../References/Reference\";\nimport Download from \"../Button/DownloadFile\";\n\n\nfunction style(feature: any) {\n  \n    if (feature.properties.colors != null) {\n      return {\n        fillColor: feature.properties.colors,\n        fillOpacity: 1,\n        color: \"black\",\n        weight: .7\n      };\n    } else {\n      return {\n        fillColor: '#08a5ee',\n        fillOpacity: 0.3,\n        color: \"black\",\n        weight: 1\n      };\n    }\n  }\n\n  const onEachFeature = (atr: any, layer: any) => {\n    const atr_n = atr.properties.atr;\n    const atr_nome = atr.properties.nome + \": \" + String(atr.properties.atr);\n\n    if(atr_n != null){\n    layer.on('mouseover', function e() {\n      if(atr.properties.nome === undefined)\n        layer.bindPopup(atr_n).openPopup();\n      else\n        layer.bindPopup(atr_nome).openPopup();\n    })\n  }\n  };\n\n  export const Graphic: React.FC<GraphicProps> = (props) => {\n    if(props.edit === false){\n    return(\n            <MapContainer style={{ height: \"100vh\", }} zoom={8} center={[-24.8, -53.75]} id=\"mapId\" attributionControl={false} zoomControl={false} >\n            <TileLayer url=\"https://{s}.tile.openstreetmap.de/{z}/{x}/{y}.png\" />\n            <GeoJSON data={JSON.parse(props.data)} style={style} onEachFeature={onEachFeature} />\n            <Section id={props.graphic?.map_id}/>\n            <Legend info={props.graphic?.map_legs} atr={props.graphic?.map_value} />\n            <Reference info={props.graphic?.map_refs}/>\n            <ZoomControl position=\"bottomright\"/>\n            <Download {...props.downloadProps}/>\n          </MapContainer>\n    )\n  }else{\n    return(\n      <MapContainer style={{ height: \"100vh\", }} zoom={8} center={[-24.8, -53.75]} id=\"mapId\" attributionControl={false} zoomControl={false} >\n      <TileLayer url=\"https://{s}.tile.openstreetmap.de/{z}/{x}/{y}.png\" />\n      <GeoJSON data={JSON.parse(props.data)} style={style} onEachFeature={onEachFeature} />\n      <Section id={props.graphic?.map_id}/>\n      <ZoomControl position=\"bottomright\"/>\n    </MapContainer>\n    )\n  }\n  }\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}