{"ast":null,"code":"import _objectSpread from\"/home/f4ustx/cnpq/Portal_Geoeste/client/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"/home/f4ustx/cnpq/Portal_Geoeste/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useState}from\"react\";import{Form}from\"../AuthForms/style\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export var PublicationForm=function PublicationForm(props){var onSubmit=props.onSubmit,onCancel=props.onCancel;var _useState=useState(null),_useState2=_slicedToArray(_useState,2),file=_useState2[0],setFile=_useState2[1];var _useState3=useState({pub_id:0,pub_title:\"\",pub_desc:\"\",pub_authors:\"\",pub_date:\"\",pub_type:\"\",pub_link:\"\",pub_keywords:\"\",pub_number_of_pages:\"\",pub_file:null}),_useState4=_slicedToArray(_useState3,2),publication=_useState4[0],setPublication=_useState4[1];function handleFileChange(e){if(e.target.files&&e.target.labels){e.target.labels[0].innerHTML=e.target.files[0].name;setFile(e.target.files[0]);}}var handleSubmit=function handleSubmit(e){e.preventDefault();onSubmit({publication:publication,file:file,token:props.token});};return/*#__PURE__*/_jsxs(Form,{className:\"box\",method:\"post\",border:\"none\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Cadastrar Publica\\xE7\\xE3o\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:publication.pub_title,placeholder:\"T\\xEDtulo do Trabalho\",onChange:function onChange(e){return setPublication(_objectSpread(_objectSpread({},publication),{},{pub_title:e.target.value}));}}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:publication.pub_desc,placeholder:\"Descri\\xE7\\xE3o do Trabalho\",onChange:function onChange(e){return setPublication(_objectSpread(_objectSpread({},publication),{},{pub_desc:e.target.value}));}}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:publication.pub_authors,placeholder:\"Autor(es)\",onChange:function onChange(e){return setPublication(_objectSpread(_objectSpread({},publication),{},{pub_authors:e.target.value}));}}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:publication.pub_date,placeholder:\"Data de Publica\\xE7\\xE3o\",onChange:function onChange(e){return setPublication(_objectSpread(_objectSpread({},publication),{},{pub_date:e.target.value}));}}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:publication.pub_type,placeholder:\"Tipo de Publica\\xE7\\xE3o\",onChange:function onChange(e){return setPublication(_objectSpread(_objectSpread({},publication),{},{pub_type:e.target.value}));}}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:publication.pub_link,placeholder:\"Link para o Trabalho\",onChange:function onChange(e){return setPublication(_objectSpread(_objectSpread({},publication),{},{pub_link:e.target.value}));}}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:publication.pub_keywords,placeholder:\"Palavras-chave\",onChange:function onChange(e){return setPublication(_objectSpread(_objectSpread({},publication),{},{pub_keywords:e.target.value}));}}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:publication.pub_number_of_pages,placeholder:\"N\\xFAmero de P\\xE1ginas\",onChange:function onChange(e){return setPublication(_objectSpread(_objectSpread({},publication),{},{pub_number_of_pages:Number(e.target.value)}));}}),/*#__PURE__*/_jsx(\"input\",{type:\"file\",id:\"data\",name:\"data\",accept:\".pdf\",onChange:handleFileChange}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"data\",className:\"custom-file-upload\",children:\" Upload do Trabalho \"}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",value:\"Cadastrar\",onClick:handleSubmit,children:\" Cadastrar \"}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:onCancel,value:\"Cancelar\",children:\" Cancelar \"}),/*#__PURE__*/_jsx(\"br\",{})]});};","map":{"version":3,"names":["useState","Form","PublicationForm","props","onSubmit","onCancel","file","setFile","pub_id","pub_title","pub_desc","pub_authors","pub_date","pub_type","pub_link","pub_keywords","pub_number_of_pages","pub_file","publication","setPublication","handleFileChange","e","target","files","labels","innerHTML","name","handleSubmit","preventDefault","token","value","Number"],"sources":["/home/f4ustx/cnpq/Portal_Geoeste/client/src/components/Forms/CRUD/PublicationForm.tsx"],"sourcesContent":["import { map } from \"leaflet\"\nimport { useState } from \"react\"\nimport { UploadFormProps } from \"../../../interfaces\"\n\nimport { Publication } from \"../../../types\"\nimport { Form } from \"../AuthForms/style\"\n\nexport const PublicationForm: React.FC<UploadFormProps> = (props) => {\n    \n    const { onSubmit, onCancel } = props;\n    const [file, setFile] = useState<File | null>(null);\n\n    const [publication, setPublication] = useState<Publication>({\n        pub_id: 0,\n        pub_title: \"\",\n        pub_desc: \"\",\n        pub_authors: \"\",\n        pub_date: \"\",\n        pub_type: \"\",\n        pub_link: \"\",\n        pub_keywords: \"\",\n        pub_number_of_pages: \"\",\n        pub_file: null,\n    })\n\n    function handleFileChange(e: React.ChangeEvent<HTMLInputElement>) {\n        if (e.target.files &&  e.target.labels) {\n            e.target.labels[0].innerHTML = e.target.files[0].name;\n            setFile(e.target.files[0]);\n        }\n    }\n\n    const handleSubmit = (e: React.FormEvent<HTMLButtonElement>) => {\n        e.preventDefault();\n        onSubmit({ publication, file, token: props.token});\n    }\n\n\n    return(\n        <Form className=\"box\" method=\"post\" border=\"none\">\n                    \n            <h2>Cadastrar Publicação</h2>\n            \n            <input type=\"text\" value={publication.pub_title} placeholder=\"Título do Trabalho\" onChange={(e) =>setPublication({...publication, pub_title:e.target.value})}/>\n            <input type=\"text\" value={publication.pub_desc} placeholder=\"Descrição do Trabalho\" onChange={(e) => setPublication({...publication, pub_desc:e.target.value}) }/>\n            <input type=\"text\" value={publication.pub_authors} placeholder=\"Autor(es)\" onChange={(e) => setPublication({...publication, pub_authors:e.target.value}) }/>\n            <input type=\"text\" value={publication.pub_date} placeholder=\"Data de Publicação\" onChange={(e) => setPublication({...publication, pub_date:e.target.value}) }/>\n            <input type=\"text\" value={publication.pub_type} placeholder=\"Tipo de Publicação\" onChange={(e) => setPublication({...publication, pub_type:e.target.value}) }/>\n            <input type=\"text\" value={publication.pub_link} placeholder=\"Link para o Trabalho\" onChange={(e) => setPublication({...publication, pub_link:e.target.value}) }/>\n            <input type=\"text\" value={publication.pub_keywords} placeholder=\"Palavras-chave\" onChange={(e) => setPublication({...publication, pub_keywords:e.target.value}) }/>\n            <input type=\"text\" value={publication.pub_number_of_pages} placeholder=\"Número de Páginas\" onChange={(e) => setPublication({...publication, pub_number_of_pages:Number(e.target.value)}) }/>\n            <input type=\"file\" id=\"data\" name=\"data\" accept=\".pdf\" onChange={handleFileChange}/>\n            <label htmlFor=\"data\" className=\"custom-file-upload\"> Upload do Trabalho </label>\n\n            <button type=\"button\" value=\"Cadastrar\" onClick={handleSubmit}> Cadastrar </button>\n            <button type=\"button\" onClick={onCancel} value=\"Cancelar\"> Cancelar </button>\n\n            <br/>\n\n        </Form>\n    )\n}"],"mappings":"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"},"metadata":{},"sourceType":"module"}