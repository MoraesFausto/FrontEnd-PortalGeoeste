{"ast":null,"code":"import _regeneratorRuntime from\"/home/f4ustx/cnpq/Portal_Geoeste/client/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/home/f4ustx/cnpq/Portal_Geoeste/client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/home/f4ustx/cnpq/Portal_Geoeste/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState}from'react';import api from'../../services/api';import{Form}from'./style';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export var RegisterForm=function RegisterForm(){var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),email=_useState2[0],setEmail=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),password=_useState4[0],setPassword=_useState4[1];var _useState5=useState(\"\"),_useState6=_slicedToArray(_useState5,2),confpassword=_useState6[0],setConfPassword=_useState6[1];var registerUser=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:if(!(password!==confpassword)){_context.next=2;break;}return _context.abrupt(\"return\",alert('Senhas diferentes!'));case 2:_context.prev=2;_context.next=5;return api.post('/api/register',{email:email,password:password});case 5:window.location.href='/';_context.next=13;break;case 8:_context.prev=8;_context.t0=_context[\"catch\"](2);console.log(_context.t0.response);if(_context.t0.response.status===409){alert(\"Email ja cadastrado!\");}if(_context.t0.response.status===401){alert(\"Insira uma senha que possua de 6 a 10 caracteres!\");}case 13:case\"end\":return _context.stop();}}},_callee,null,[[2,8]]);}));return function registerUser(){return _ref.apply(this,arguments);};}();return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(Form,{className:\"box\",method:\"post\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Cadastrar\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:email,placeholder:\"Novo Email\",onChange:function onChange(e){return setEmail(e.target.value);}}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",value:password,placeholder:\"Nova Senha\",onChange:function onChange(e){return setPassword(e.target.value);}}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",value:confpassword,placeholder:\"Confirme a Senha\",onChange:function onChange(e){return setConfPassword(e.target.value);}}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:function onClick(){return registerUser();},value:\"Cadastrar\",children:\" Cadastrar \"}),/*#__PURE__*/_jsxs(\"p\",{children:[\"J\\xE1 possui uma conta?\",/*#__PURE__*/_jsx(\"a\",{href:\"/login\",style:{color:'blue'},children:\" Entrar\"})]})]}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"br\",{})]});};","map":{"version":3,"names":["React","useState","api","Form","RegisterForm","email","setEmail","password","setPassword","confpassword","setConfPassword","registerUser","alert","post","window","location","href","console","log","response","status","e","target","value","color"],"sources":["/home/f4ustx/cnpq/Portal_Geoeste/client/src/components/Forms/RegisterForm.tsx"],"sourcesContent":["import React, { useState } from 'react'\nimport  api  from '../../services/api'\nimport { Form } from './style';\n\n\nexport const RegisterForm: React.FC = () =>{\n    const[email, setEmail] = useState<string>(\"\");\n    const [password, setPassword] = useState<string >(\"\");\n    const [confpassword, setConfPassword] = useState<string >(\"\");\n\n\n    const registerUser = async () =>{\n        if(password !== confpassword)\n            return alert('Senhas diferentes!');\n        try{\n            await api.post('/api/register', {email, password});\n            window.location.href='/'\n        }catch(err: any){\n            console.log(err.response)\n            if(err.response.status === 409){\n                alert(\"Email ja cadastrado!\");\n            }\n            if(err.response.status === 401){\n                alert(\"Insira uma senha que possua de 6 a 10 caracteres!\")\n            }\n        }\n    }\n\n    return(\n        <div>\n                    <Form className=\"box\" method=\"post\">\n                        <h3>Cadastrar</h3>\n                        <input type=\"text\" value={email} placeholder=\"Novo Email\" onChange={(e) => setEmail(e.target.value)}/>\n                        <input type=\"password\" value={password} placeholder=\"Nova Senha\" onChange={(e) => setPassword(e.target.value)}/>\n                        <input type=\"password\" value={confpassword} placeholder=\"Confirme a Senha\" onChange={(e) => setConfPassword(e.target.value)}/>\n                        <button type=\"button\" onClick={()=>registerUser()} value=\"Cadastrar\"> Cadastrar </button>\n                <p>JÃ¡ possui uma conta?<a href='/login' style={{color:'blue'}}> Entrar</a></p>\n                    </Form>\n                    <br/>\n                    <br/>\n        </div>\n    );\n}\n"],"mappings":"uYAAA,MAAOA,MAAP,EAAgBC,QAAhB,KAAgC,OAAhC,CACA,MAAQC,IAAR,KAAkB,oBAAlB,CACA,OAASC,IAAT,KAAqB,SAArB,C,wFAGA,MAAO,IAAMC,aAAsB,CAAG,QAAzBA,aAAyB,EAAK,CACvC,cAAyBH,QAAQ,CAAS,EAAT,CAAjC,wCAAMI,KAAN,eAAaC,QAAb,eACA,eAAgCL,QAAQ,CAAU,EAAV,CAAxC,yCAAOM,QAAP,eAAiBC,WAAjB,eACA,eAAwCP,QAAQ,CAAU,EAAV,CAAhD,yCAAOQ,YAAP,eAAqBC,eAArB,eAGA,GAAMC,aAAY,4FAAG,0IACdJ,QAAQ,GAAKE,YADC,0DAENG,KAAK,CAAC,oBAAD,CAFC,+CAIPV,IAAG,CAACW,IAAJ,CAAS,eAAT,CAA0B,CAACR,KAAK,CAALA,KAAD,CAAQE,QAAQ,CAARA,QAAR,CAA1B,CAJO,QAKbO,MAAM,CAACC,QAAP,CAAgBC,IAAhB,CAAqB,GAArB,CALa,+EAObC,OAAO,CAACC,GAAR,CAAY,YAAIC,QAAhB,EACA,GAAG,YAAIA,QAAJ,CAAaC,MAAb,GAAwB,GAA3B,CAA+B,CAC3BR,KAAK,CAAC,sBAAD,CAAL,CACH,CACD,GAAG,YAAIO,QAAJ,CAAaC,MAAb,GAAwB,GAA3B,CAA+B,CAC3BR,KAAK,CAAC,mDAAD,CAAL,CACH,CAbY,oEAAH,kBAAZD,aAAY,0CAAlB,CAiBA,mBACI,oCACY,MAAC,IAAD,EAAM,SAAS,CAAC,KAAhB,CAAsB,MAAM,CAAC,MAA7B,wBACI,iCADJ,cAEI,cAAO,IAAI,CAAC,MAAZ,CAAmB,KAAK,CAAEN,KAA1B,CAAiC,WAAW,CAAC,YAA7C,CAA0D,QAAQ,CAAE,kBAACgB,CAAD,QAAOf,SAAQ,CAACe,CAAC,CAACC,MAAF,CAASC,KAAV,CAAf,EAApE,EAFJ,cAGI,cAAO,IAAI,CAAC,UAAZ,CAAuB,KAAK,CAAEhB,QAA9B,CAAwC,WAAW,CAAC,YAApD,CAAiE,QAAQ,CAAE,kBAACc,CAAD,QAAOb,YAAW,CAACa,CAAC,CAACC,MAAF,CAASC,KAAV,CAAlB,EAA3E,EAHJ,cAII,cAAO,IAAI,CAAC,UAAZ,CAAuB,KAAK,CAAEd,YAA9B,CAA4C,WAAW,CAAC,kBAAxD,CAA2E,QAAQ,CAAE,kBAACY,CAAD,QAAOX,gBAAe,CAACW,CAAC,CAACC,MAAF,CAASC,KAAV,CAAtB,EAArF,EAJJ,cAKI,eAAQ,IAAI,CAAC,QAAb,CAAsB,OAAO,CAAE,yBAAIZ,aAAY,EAAhB,EAA/B,CAAmD,KAAK,CAAC,WAAzD,yBALJ,cAMJ,4DAAuB,UAAG,IAAI,CAAC,QAAR,CAAiB,KAAK,CAAE,CAACa,KAAK,CAAC,MAAP,CAAxB,qBAAvB,GANI,GADZ,cASY,aATZ,cAUY,aAVZ,GADJ,CAcH,CArCM"},"metadata":{},"sourceType":"module"}